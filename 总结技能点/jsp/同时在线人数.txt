package online;

import javax.servlet.http.HttpSessionEvent;
import javax.servlet.http.HttpSessionListener;

public class OnlineListener implements HttpSessionListener{
　　　　 private static int count;
 　　　   public void sessionCreated(HttpSessionEvent se) {
  　　　　　　　　count++;
 　　　　}
　　　　 public void sessionDestroyed(HttpSessionEvent se) {
　　　　 　　　　 if(count>0)
　　　　　　　　  　　　　count--;
　　　　 }
　　　　 public static int getCount(){
　　　　　　　　  return count;
　　　　 }
}

//Second塘崔web.xml

<web-app> 
　　　　<listener> 
　　　　　　　　<listener-class>online.OnlineListener</listener-class> 
　　　　</listener> 

</web-app> 

//Third廼秘重云

<%@page pageEncoding="gbk" import="online.OnlineListener" %>
揖扮壓瀏吠:<%=OnlineListener.getCount() %> 
