<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    </head>
    <style>
    	*{margin:0;padding:0;}
		table{border-collapse:collapse;border-spacing:0;}
		
		.tbl{width:600px;margin:0px auto;background:#EEF7FD;border:1px solid #B3CDE8;font-size:12px;color:#1A438E;text-align:center;}
		.tbl td{height:30px;border:1px solid #B3CDE8;}
		.tbl tr.th{font-weight:bold;}
		.tbl tr.c{background:#eef;}/*选中*/
    </style>
    <body>
    	<table class="tbl" border="1" cellpadding="1" unselectable="on" style="-moz-user-select:none;-webkit-user-select:none;" onselectstart="return false;">
        	<tr>
            	<td width="300"></td>
                <td width="300"></td>
            </tr>
            <tr>
            	<td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
            <tr>
            	<td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
            <tr>
            	<td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
            <tr>
            	<td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
            <tr>
            	<td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
        </table>
        <div id="msg" style="text-align:center;"></div>
    </body>
    <script>
    	$(function(){
            /******************保存******************/
            $(document).keydown(function(e){
				$("#msg").html(e.keyCode);
                if(e.keyCode==83&&e.ctrlKey){
                    e.preventDefault();
                    $("#msg").html("保存");
                }
            });
			/******************多选******************/
			var index;//按下ctrl或shift时需要记录的索引
			$(".tbl tr").click(function(e){//选择
				var obj=$(this);
				var isctrl=e.ctrlKey;//是否按下ctrl键
				var isshift=e.shiftKey;//是否按下shift键
				if(isctrl){
					obj.toggleClass("c");
					index=obj.index();
				}else if(isshift){
					var objindex=obj.index();
					var maxindex=Math.max(index,objindex);
					var minindex=Math.min(index,objindex);
					obj.siblings().andSelf().each(function(){
						var i=$(this).index();
						if(minindex<=i && i<=maxindex){
							$(this).addClass("c");
						}else{
							$(this).removeClass("c");
						}
					});
				}else{
					obj.addClass("c").siblings().removeClass("c");
					index=obj.index();
				}
			});
		});
    </script>
</html>