<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style>
			body,h1,h2,h3,h4,h5,h6,hr,p,blockquote,dl,dt,dd,ul,ol,li,pre,form,fieldset,legend,button,input,textarea,table,img{margin:0;padding:0;}
			a{cursor:default;}
			
			#banner{position:relative;width:670px;height:240px;margin:0px auto;overflow:hidden;}
			#banner .imgw img{width:670px;height:240px;float:left;}
			#banner .btnw{position:absolute;right:5px;bottom:5px;z-index:2;text-align:center;opacity:0.8;filter:alpha(opacity=80);overflow:hidden;}
			#banner .btnw a{width:20px;height:20px;margin:0px 0px 0px 5px;float:left;cursor:pointer;display:block;text-decoration:none;font-size:13px;line-height:20px;border-radius:10px;}
			#banner .btnw a:hover{text-decoration:none;}
			#banner .btnw a.f{background-color:#83B842;color:#fff;}
			#banner .btnw a.b{background-color:#ccc;color:#333;}
        </style>
        <script src="jquery-1.7.2.min.js"></script>
    </head>
    <body>
        <div id="banner">
        	<div class="imgw">
            	<a><img src="1.jpg"/></a>
                <a><img src="2.jpg"/></a>
                <a><img src="3.jpg"/></a>
            </div>
            <div class="btnw"></div>
        </div>
    </body>
    <script>
    	$(function(){
			/*****************************广告图片切换*****************************/
			(function(){
				var show_timer;//切换计时器
				var show_time=600;//显示效果时间
				var show_spacetime=2000;//切换间隔时间
				var show_count;//显示个数
				var show_current=0;//当前显示索引
				function show(i){//切换图片、更换按钮样式
					if(isNaN(i)||i<0||i>=show_count)i=0;
					show_current=i;
					clearTimeout(show_timer);
					banner.find(".imgw").stop();
					var height=banner.find(".imgw img").height();
					banner.find(".imgw").animate({"marginTop":0-height*show_current},show_time);
					banner.find(".btnw a").removeClass("f").addClass("b").eq(show_current).removeClass("b").addClass("f");
					show_timer=setTimeout(
						function(){
							show(show_current+1);
						},
						show_spacetime
					);
				}
				var banner=$("#banner");
				show_count=banner.find(".imgw img").length;//标记图片个数
				for(var i=0;i<show_count;i++){//根据图片的个数创建相应的按钮
					banner.find(".btnw").append("<a class='"+(i==0?"f":"b")+"'>"+(i+1)+"</a>");
				}
				banner.find(".btnw a").mouseenter(function(){
					show($(this).index());
				});
				if(show_count>1){
					setTimeout(function(){
						show(1);
					},show_spacetime);
				}
			})();
		});
    </script>
</html>