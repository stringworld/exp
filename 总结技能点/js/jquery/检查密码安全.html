<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
		<style>
			#txt{width:160px;}
			#show{width:165px;height:3px;margin-top:5px;overflow:hidden;}
			#show .i{width:54px;height:100%;float:left;margin-right:1px;overflow:hidden;}
		</style>
	</head>
	<body>
		<div style="width:220px;margin:0px auto;">
			<div>
				<input type="text" size="20" value="@#%%fdsFDfds8943" id="pwd"/>
				<input type="button" value="检查" id="btn"/>
			</div>
			<div id="show">
				<div class="i" id="pwd_lower"></div>
				<div class="i" id="pwd_middle"></div>
				<div class="i" id="pwd_high"></div>
			</div>
		</div>
	</body>
	<script>
		$(function(){
			$("#txt").focus();
			$("#btn").click(function(){
				var str=$("#pwd").val();
				var rank=checkIntensity(str);
				var Lcolor,Mcolor,Hcolor;
				switch(rank){
					case 1:
						Lcolor="#ff0000";
						Mcolor=Hcolor="#DADADA";
						break;
					case 2:
						Mcolor="#ff9900";
						Lcolor=Hcolor="#DADADA";
						break;
					case 3:
					case 4:
						Hcolor="#33cc00";
						Lcolor=Mcolor="#dadada";
						break;
				}
				$("#pwd_lower").css("backgroundColor",Lcolor);
				$("#pwd_middle").css("backgroundColor",Mcolor);
				$("#pwd_high").css("backgroundColor",Hcolor);
			});
		});
		function checkIntensity(pwd){
			var m=0;
			var Modes=0;
			for(i=0;i<pwd.length;i++){
				var charType=0;
				var t=pwd.charCodeAt(i);
				if(t>=48 && t<=57){
					charType=1;
				}else if(t>=65 && t<=90){
					charType=2;
				}else if(t>=97 && t<=122){
					charType=4;
				}else{
					charType=4;
				}
				Modes|=charType;
			}
			for(i=0;i<4;i++){
				if(Modes & 1) m++;
				Modes>>>=1;
			}
			if(pwd.length<=4){
				m=1;
			}
			return m;
		}
	</script>
</html>