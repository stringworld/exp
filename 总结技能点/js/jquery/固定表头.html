<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/htmt;charset=utf-8">
        <script type="text/javascript" src="jquery-1.8.3.min.js"></script>
    </head>
    <body>
        <div style="margin:20px auto 0px;">
            <table id="fixtable" cellpadding="5" cellspacing="0" border="1" style="width:100%;text-align:center;position:absolute;"></table>
            <table id="table" cellpadding="5" cellspacing="0" border="1" style="width:100%;text-align:center;">
                <tr style='background-color:#fcf;'>
                    <td>head</td>
                    <td>headheadheadheadhead</td>
                </tr>
                <script>
                    for(var i=0;i<50;i++){
                        document.write("<tr><td>td</td><td>td</td></tr>");
                    }
                </script>
            </table>
        </div>
    </body>
    <script>
        $(function(){
            $(window).on("resize scroll",function(){
                var fix=$("#fixtable");
                var table=$("#table");
                var tr=table.find("tr:first");
                var pos=table.position();
                var scrollTop=$(window).scrollTop();
                if(scrollTop>pos.top){
                    fix.show();
                }else{
                    fix.hide();
                }
                fix.css({position:"absolute",left:pos.left,top:scrollTop,width:table.outerWidth()});
                fix.html("<tr style='background-color:#fcf;'>"+tr.html()+"</tr>");
                fix.find("tr:first td").each(function(){
                    var obj=$(this);
                    var td=tr.children("td:eq("+obj.index()+")");
                    obj.width(td.width());
                });
            });
            $(window).trigger("resize");
        });
    </script>
</html>