<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    </head>
    <body>
    	<div id="show"></div>
    </body>
    <script>
		$(function(){
			$.loadscript({
				src:"nsy.js",
				callback:function(){
					console.log("ok");
				}
			});
			//可以使用jquery自带的ajax简写形式代替
			/*
			$.getScript("nsy.js").done(function(response,status){
				console.log(status);
			}).fail(function(jqxhr,settings,exception){
				console.log(exception);
			});
			*/
			/*
			$.ajax({
				dataType:"script",
				scriptCharset:"utf-8",
				url:"nsy.js",
				success:function(){
					console.log("success");
				},
				error:function(XMLHttpRequest, textStatus, errorThrown){
					console.log(XMLHttpRequest);
				}
			});
			*/
		});
		(function($){
			$.loadscript=function(options){
				var defaults={
					src:null,
					charset:"utf-8",
					callback:function(){
						$.noop();
					}
				}
				options=$.extend(defaults,options);
				var script=document.createElement("script");
				script.type="text/javascript";
				script.onload=script.onreadystatechange=function(){
				if(!this.readyState || this.readyState === "loaded" || this.readyState === "complete"){
					script.onload=script.onreadystatechange=null;
					options.callback();
				}};
				script.src=options.src;
				script.charset=options.charset;
				document.body.appendChild(script);
			};
		})(jQuery);
	</script>
</html>