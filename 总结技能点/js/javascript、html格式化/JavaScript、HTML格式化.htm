<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JavaScript/HTML格式化 - 站长工具</title>
        <link href="toolsite.css" rel="stylesheet" type="text/css">
        <script src="base.js" type="text/javascript"></script>
        <script src="jsformat.js" type="text/javascript"></script>
        <script src="htmlformat.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="wrap">
            <div class="main">
                <form>
                <div class="box">
                    <div id="b_1">
                        <div class="box1">
                            <div style="color:#006AAD;font-size:16px;font-weight:bold;" align="center">JavaScript/HTML格式化</div>
                            <div style="padding-top:10px;" align="center">
                                <textarea id="content" name="content" style="width:850px;border:1px solid #c5e2f2;height:400px; overflow:auto;resize:none;" cols="20" rows="20"></textarea>
                            </div>
                            <div style="padding:10px 0px;text-align:right;">
                                <select name="tabsize" id="tabsize">
                                <option value="1">制表符缩进</option>
                                <option value="2">2个空格缩进</option>
                                <option value="4" selected="selected">4个空格缩进</option>
                                <option value="8">8个空格缩进</option>
                                </select>
                                <input class="but2" value="格式化" onclick="return do_js_beautify()" id="beautify" type="button">
                                <!--
                                <input class="but2" value="普通压缩" onclick="pack_js(0)" type="button">
                                <input class="but2" value="加密压缩" onclick="pack_js(1)" type="button">
                                -->
                                <input class="but2" value="清空结果" onclick="Empty();" type="button">
                            </div>
                        </div>
                    </div> 
                </div>
                </form>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        function do_js_beautify() {
            document.getElementById('beautify').disabled = true;
            js_source = document.getElementById('content').value.replace(/^\s+/, '');
            tabsize = document.getElementById('tabsize').value;
            tabchar = ' ';
            if (tabsize == 1) {
                tabchar = '\t';
            }
            if (js_source && js_source.charAt(0) === '<') {
                document.getElementById('content').value = style_html(js_source, tabsize, tabchar, 80);
            } else {
                document.getElementById('content').value = js_beautify(js_source, tabsize, tabchar);
            }
            document.getElementById('beautify').disabled = false;
            return false;
        }
        function pack_js(base64) {
            var input = document.getElementById('content').value;
            var packer = new Packer;
            if (base64) {
                var output = packer.pack(input, 1, 0);
            } else {
                var output = packer.pack(input, 0, 0);
            }
            document.getElementById('content').value = output;
        }
        function Empty() {
            document.getElementById('content').value = '';
            document.getElementById('content').select();
        }
        function GetFocus() {
            document.getElementById('content').focus();
        }
    </script>
</html>